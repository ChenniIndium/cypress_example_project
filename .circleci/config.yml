version: '2.1'
orbs:
  cypress: cypress-io/cypress@3
executor: cypress/default

commands:
  cypress-install:
    steps:
      - run:
          name: Install Cypress
          command: npm install

jobs:
  cypress-run-project-a-job-1:
    executor: cypress-executor
    steps:
      - checkout
      - cypress-install
      - run:
          name: Run Project A - Job 1
          command: npm run cypress:projectA:job1

 

  cypress-run-project-a-job-2:
    executor: cypress-executor
    steps:
      - checkout
      - cypress-install
      - run:
          name: Run Project A - Job 2
          command: npm run cypress:projectA:job2



workflows:
  use-my-orb:
    jobs:

      - cypress/run:
          cypress-command: npx cypress run --browser chrome --spec cypress/e2e/integration/projectA/job1/todo.cy-spec.js
          install-browsers: true
